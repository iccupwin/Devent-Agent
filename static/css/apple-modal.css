/* -- Базовые шрифты и цвета Apple‑HIG -----------------------------------*/
:root {
    --radius: 14px;
    --overlay-bg: rgba(0 0 0 / .4);
    --modal-bg: rgb(250 250 250 / .96);
    --shadow: 0 30px 60px rgba(0 0 0 / .2);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro", sans-serif;
  }
  
  /*              Контейнер                                                   */
  .apple-modal.hidden { display: none; }
  .apple-modal {
    position: fixed; inset: 0; z-index: 999;
    opacity: 0; transition: opacity .25s ease;
  }
  .apple-modal.visible { opacity: 1; }
  
  /*              Затемнение                                                  */
  .apple-modal__overlay {
    position: absolute; inset: 0;
    background: var(--overlay-bg);
    backdrop-filter: blur(4px);
  }
  
  /*              Диалог                                                      */
  .apple-modal__dialog {
    position: relative; z-index: 1;
    width: min(560px, 92%);
    margin: 11vh auto;
    background: var(--modal-bg);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 2rem 2.25rem;
    overflow: hidden;
    transform: translateY(-20px);
    transition: transform .25s ease;
  }
  .apple-modal.visible .apple-modal__dialog { transform: translateY(0); }
  
  /*              Закрытие (×)                                                */
  .apple-modal__close {
    position: absolute; top: .75rem; right: .75rem;
    background: none; border: none;
    font-size: 1.75rem; line-height: 1; cursor: pointer;
    color: #666;
  }
  .apple-modal__close:hover { color: #111; }
  
  /*              Скелетоны / метаданные                                     */
  .skeleton-line {
    height: .8rem; margin-bottom: .4rem;
    background: linear-gradient(90deg,#eee 25%,#f5f5f5 37%,#eee 63%);
    background-size: 400% 100%; animation: pulse 1.2s ease-in-out infinite;
  }
  @keyframes pulse { 0% {background-position: 100% 0} 100% {background-position: 0 0} }
  
  .task-meta { list-style: none; padding: 0; margin: 1rem 0 0; }
  .task-meta li { margin:.2rem 0; }
  .desc { margin-top:1rem; white-space: pre-line; }
  .error { color: #c62828; }
  